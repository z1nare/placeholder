# Face Detection and Blurring Pipeline

This project demonstrates a two-stage pipeline for automatically finding faces in a collection of images and applying a Gaussian blur to each detected face.

1.  **Stage 1: Face Detection (Python)** - A Python script using OpenCV's Haar Cascade classifier scans a directory of images, detects all faces, and writes their bounding box coordinates to a `result.txt` file.
2.  **Stage 2: Batch Blurring (C++)** - A high-performance C++ application reads the `result.txt` file, loads each image, and applies a strong blur to every face region specified. The modified images are saved to a new directory.

## Workflow

The end-to-end process is as follows:


1.  **Input**: A folder named `data/` containing all the `.jpg` images you want to process.
2.  **Run Python Script (`bounding_box.py`)**: This script detects faces in all images inside `data/` and generates a `result.txt` file. Each line in this file contains an image name followed by the `x y w h` coordinates of a detected face.
3.  **Run C++ Program (`main.cpp`)**: This program reads `result.txt` to find which regions to blur. It processes the images in batches and saves the modified, blurred versions into the `blurred_images/` directory.
4.  **Output**: A folder named `blurred_images/` containing copies of the original images with all detected faces anonymized by a blur effect.

## How to Use

### Prerequisites

* **Python**:
    * Python 3.x
    * OpenCV for Python (`opencv-python`)
* **C++**:
    * A C++ compiler (like g++, Clang, or MSVC)
    * The OpenCV C++ library (headers and binaries)

### Step-by-Step Instructions

1.  **Prepare Your Images**:
    Place all the `.jpg` images you want to process into the `data/` folder.

2.  **Run Face Detection**:
    Execute the Python script to find all faces and generate the coordinate file.
    ```bash
    python bounding_box.py
    ```
    This will create a `result.txt` file in your project root.

3.  **Create Output Directory**:
    Before running the C++ program, you must manually create the folder where the results will be saved.
    ```bash
    mkdir blurred_images
    ```

4.  **Compile the C++ Program**:
    Compile `main.cpp` using your C++ compiler, making sure to link the required OpenCV libraries.

    **Example for Linux (with g++):**
    ```bash
    g++ main.cpp -o blur_app $(pkg-config --cflags --libs opencv4)
    ```
    **Example for Windows (with g++ and MinGW):**
    ```powershell
    # Replace C:\opencv with your actual OpenCV path
    g++ main.cpp -o blur_app.exe -I"C:\opencv\build\include" -L"C:\opencv\build\x64\mingw\lib" -lopencv_core481 -lopencv_imgcodecs481 -lopencv_imgproc481
    ```

5.  **Run the Blurring Application**:
    Execute the compiled program to process the images.
    ```bash
    # On Linux
    ./blur_app

    # On Windows
    ./blur_app.exe
    ```
    The program will read `result.txt`, apply blurs to the images from `data/`, and save them in `blurred_images/`.

## Project Structure

```
.
├── data/
│   ├── image1.jpg
│   └── image2.jpg
├── blurred_images/
│   └── (Output will be saved here)
├── bounding_box.py     # Python script for face detection
├── main.cpp            # C++ program for blurring
└── result.txt          # Generated by Python, read by C++
